{"ast":null,"code":"var _jsxFileName = \"/Users/travis/Developer/code/phase-5/phase-5-portfolio-project/phase-5-project/client/src/components/coffee_shops/CoffeeShopCard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport ListGroup from \"react-bootstrap/ListGroup\";\nimport ListGroupItem from \"react-bootstrap/ListGroupItem\";\nimport Button from \"react-bootstrap/Button\";\nimport { distanceToCoffeeShop } from \"../../custom_modules/getDistanceToCoffeeShop\";\nimport { getCoffeeShopImage } from \"../../custom_modules/getCoffeeShopImage\";\nimport CoffeeShopModal from \"./CoffeeShopModal\";\nimport AddToKafficoBtn from \"./AddToKafficoBtn\";\nimport { BsThreeDotsVertical } from \"react-icons/bs\";\nimport KafficoEllipsisFunctionality from \"./KafficoEllipsisFunctionality\";\nimport KafficoCardButtons from \"./KafficoCardButtons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst CoffeeShopCard = props => {\n  _s();\n\n  const [distance, setDistance] = useState(null);\n  const [img, setImg] = useState(null);\n  const [renderCoffeeShopModal, setRenderCoffeeShopModal] = useState(false);\n  const [renderCardDropdown, setRenderCardDropdown] = useState(false);\n  const userLocation = `${props.userLocation.lat},${props.userLocation.lng}`;\n  const destination = props.coffeeShop.geometry ? `${props.coffeeShop.geometry.location.lat},${props.coffeeShop.geometry.location.lng}` : props.coffeeShop.coordinates;\n  const photoReference = props.coffeeShop.photos ? props.coffeeShop.photos : props.coffeeShop.photo_reference;\n\n  const displayModal = e => {\n    if (e.target.classList.contains(\"open-modal\")) {\n      setRenderCoffeeShopModal(!renderCoffeeShopModal);\n    }\n  };\n\n  const clickEllipsis = () => {\n    setRenderCardDropdown(!renderCardDropdown);\n  };\n\n  useEffect(() => {\n    getCoffeeShopImage(photoReference, setImg);\n    distanceToCoffeeShop(userLocation, destination).then(res => setDistance(res));\n  }, [userLocation, destination]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CoffeeShopModal, {\n      renderCoffeeShopModal: renderCoffeeShopModal,\n      setRenderCoffeeShopModal: setRenderCoffeeShopModal,\n      coffeeShopData: props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        \"width\": \"23rem\",\n        \"marginTop\": \"3em\",\n        \"float\": \"left\"\n      },\n      onClick: e => {\n        displayModal(e);\n      },\n      className: \"open-modal\",\n      children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n        variant: \"top\",\n        src: img,\n        style: {\n          height: \"300px\",\n          objectFit: \"cover\"\n        },\n        className: \"open-modal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n          style: {\n            display: \"contents\"\n          },\n          className: \"open-modal\",\n          children: props.coffeeShop.coffee_shop ? props.coffeeShop.coffee_shop.name : props.coffeeShop.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline-secondary\",\n          style: {\n            float: \"right\",\n            border: \"none\"\n          },\n          onClick: clickEllipsis,\n          children: /*#__PURE__*/_jsxDEV(BsThreeDotsVertical, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), renderCardDropdown ? /*#__PURE__*/_jsxDEV(KafficoEllipsisFunctionality, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 43\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n        className: \"list-group-flush\",\n        children: [distance ? /*#__PURE__*/_jsxDEV(ListGroupItem, {\n          children: `${distance.miles} away`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 33\n        }, this) : null, distance ? /*#__PURE__*/_jsxDEV(ListGroupItem, {\n          children: `${distance.duration} away`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 33\n        }, this) : null, props.coffeeShop.rating ? /*#__PURE__*/_jsxDEV(ListGroupItem, {\n          children: `Rating: ${props.coffeeShop.rating}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 49\n        }, this) : /*#__PURE__*/_jsxDEV(ListGroupItem, {\n          children: \"No Current Reviews\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 121\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: props.parentComponent === \"google\" ? /*#__PURE__*/_jsxDEV(AddToKafficoBtn, { ...props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 60\n        }, this) : /*#__PURE__*/_jsxDEV(KafficoCardButtons, { ...props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 93\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(CoffeeShopCard, \"jSclPrMougRlp3Qmt93l5PZtFx4=\");\n\n_c = CoffeeShopCard;\nexport default CoffeeShopCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"CoffeeShopCard\");","map":{"version":3,"sources":["/Users/travis/Developer/code/phase-5/phase-5-portfolio-project/phase-5-project/client/src/components/coffee_shops/CoffeeShopCard.js"],"names":["React","useState","useEffect","Card","ListGroup","ListGroupItem","Button","distanceToCoffeeShop","getCoffeeShopImage","CoffeeShopModal","AddToKafficoBtn","BsThreeDotsVertical","KafficoEllipsisFunctionality","KafficoCardButtons","CoffeeShopCard","props","distance","setDistance","img","setImg","renderCoffeeShopModal","setRenderCoffeeShopModal","renderCardDropdown","setRenderCardDropdown","userLocation","lat","lng","destination","coffeeShop","geometry","location","coordinates","photoReference","photos","photo_reference","displayModal","e","target","classList","contains","clickEllipsis","then","res","height","objectFit","display","coffee_shop","name","float","border","miles","duration","rating","parentComponent"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Card from \"react-bootstrap/Card\"\nimport ListGroup from \"react-bootstrap/ListGroup\"\nimport ListGroupItem from \"react-bootstrap/ListGroupItem\"\nimport Button from \"react-bootstrap/Button\"\nimport { distanceToCoffeeShop } from \"../../custom_modules/getDistanceToCoffeeShop\";\nimport { getCoffeeShopImage } from \"../../custom_modules/getCoffeeShopImage\";\nimport CoffeeShopModal from \"./CoffeeShopModal\";\nimport AddToKafficoBtn from \"./AddToKafficoBtn\";\nimport { BsThreeDotsVertical } from \"react-icons/bs\"\nimport KafficoEllipsisFunctionality from \"./KafficoEllipsisFunctionality\";\nimport KafficoCardButtons from \"./KafficoCardButtons\";\n\nconst CoffeeShopCard = ( props ) => {\n    const [distance, setDistance] = useState(null)\n    const [img, setImg] = useState(null)\n    const [renderCoffeeShopModal, setRenderCoffeeShopModal ] = useState(false)\n    const [renderCardDropdown, setRenderCardDropdown ] = useState(false)\n\n    const userLocation= `${props.userLocation.lat},${props.userLocation.lng}`\n    const destination = props.coffeeShop.geometry ? `${props.coffeeShop.geometry.location.lat},${props.coffeeShop.geometry.location.lng}` : props.coffeeShop.coordinates\n    const photoReference = props.coffeeShop.photos ? props.coffeeShop.photos : props.coffeeShop.photo_reference\n\n\n    const displayModal = e => {\n        if (e.target.classList.contains(\"open-modal\")) {\n            setRenderCoffeeShopModal(!renderCoffeeShopModal)\n        }\n    }\n\n    \n\n    const clickEllipsis = () => {\n        setRenderCardDropdown(!renderCardDropdown)\n    }\n     \n    useEffect(() => {\n        getCoffeeShopImage(photoReference, setImg)\n        distanceToCoffeeShop(userLocation, destination).then(res => setDistance(res))\n    }, [userLocation, destination])\n\n\n    return (\n        <>  \n            <CoffeeShopModal renderCoffeeShopModal={renderCoffeeShopModal} setRenderCoffeeShopModal={setRenderCoffeeShopModal} coffeeShopData={props} />\n            <Card  \n                style={{ \n                    \"width\": \"23rem\", \n                    \"marginTop\": \"3em\",\n                    \"float\": \"left\"\n                }} \n                onClick={(e)=>{displayModal(e)}} \n                className=\"open-modal\"\n            >\n                <Card.Img \n                    variant=\"top\" \n                    src={img} \n                    style={{\n                        height: \"300px\",\n                        objectFit: \"cover\"\n                    }}\n                    className=\"open-modal\"\n                />\n                <Card.Body>\n                    <Card.Title \n                        style={{\n                            display: \"contents\"\n                        }} \n                        className=\"open-modal\"\n                    >\n                        {props.coffeeShop.coffee_shop ? props.coffeeShop.coffee_shop.name : props.coffeeShop.name}\n                    </Card.Title>\n                    <Button \n                        variant=\"outline-secondary\"\n                        style={{\n                                float: \"right\",\n                                border: \"none\"\n                        }} \n                        onClick={clickEllipsis}\n                        \n                    >\n                            <BsThreeDotsVertical />\n                    </Button>\n                    \n                    {renderCardDropdown ? <KafficoEllipsisFunctionality /> : null}\n\n                </Card.Body>\n                <ListGroup className=\"list-group-flush\">\n                    {distance ? <ListGroupItem>{`${distance.miles} away`}</ListGroupItem> : null}\n                    {distance ? <ListGroupItem>{`${distance.duration} away`}</ListGroupItem> : null}\n                    { props.coffeeShop.rating ? <ListGroupItem>{`Rating: ${props.coffeeShop.rating}`}</ListGroupItem> : <ListGroupItem>No Current Reviews</ListGroupItem>}\n                </ListGroup>\n                <Card.Body >\n                    { props.parentComponent === \"google\" ? <AddToKafficoBtn {...props} /> : <KafficoCardButtons {...props} />}\n                </Card.Body>\n            </Card>\n        </>\n    )\n}\n\nexport default CoffeeShopCard"]},"metadata":{},"sourceType":"module"}